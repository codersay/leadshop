(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0ac0f0b8"],{4543:function(e,t,s){"use strict";s("72f2")},"72f2":function(e,t,s){},"80bb":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"le-matter "},[e.bind||e.isBind?e._e():s("div",{staticClass:"le-bind"},[s("div",{staticClass:"le-bind__content flex flex-direction align-center"},[s("div",{staticClass:"le-bind-logo"}),s("div",{staticClass:"le-bind-name"},[e._v("微信小程序")]),e._m(0),s("el-button",{staticClass:"le-bind-btn",attrs:{type:"primary"},on:{click:e.goBind}},[e._v("立即绑定")])],1)]),e.bind&&!e.isBind||e.toBind?s("el-form",{ref:"bind",staticClass:"le-form",attrs:{rules:e.rules,model:e.form,"label-width":"180px"}},[s("div",{staticClass:"le-form__header flex align-center"},[s("span",{staticClass:"le-tip"}),s("span",{staticClass:"le-text"},[e._v("填写小程序信息")])]),s("el-form-item",{attrs:{label:"小程序名称",prop:"name"}},[s("el-input",{attrs:{placeholder:"请输入小程序名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),s("el-form-item",{attrs:{label:"AppID",prop:"AppID"}},[s("el-input",{attrs:{placeholder:"请输入AppID"},model:{value:e.form.AppID,callback:function(t){e.$set(e.form,"AppID",t)},expression:"form.AppID"}})],1),s("el-form-item",{attrs:{label:"AppSecret",prop:"AppSecret"}},[s("el-input",{attrs:{placeholder:"请输入AppSecret"},model:{value:e.form.AppSecret,callback:function(t){e.$set(e.form,"AppSecret",t)},expression:"form.AppSecret"}})],1),s("el-form-item",{attrs:{label:"原始ID"}},[s("el-input",{attrs:{placeholder:"请输入原始ID"},model:{value:e.form.oldID,callback:function(t){e.$set(e.form,"oldID",t)},expression:"form.oldID"}})],1)],1):e._e(),e.isBind&&!e.toBind?[s("div",{staticClass:"le-bind-over"},[e.isPay?e._e():s("div",{staticClass:"le-bind-header"},[s("span",{staticClass:"le-text"},[e._v("你的微信小程序尚未设置支付方式，请先设置支付方式。")]),s("el-button",{staticClass:"le-btn",attrs:{type:"primary"}},[e._v("立即配置")])],1),s("div",{staticClass:"le-info le-card"},[e._m(1),s("div",{staticClass:"le-item flex"},[s("div",{staticClass:"le-item__label"},[e._v("小程序名称")]),s("div",{staticClass:"le-item__value"},[e._v(e._s(e.form.name))])]),s("div",{staticClass:"le-item flex"},[s("div",{staticClass:"le-item__label"},[e._v("小程序码")]),s("div",{staticClass:"le-item__value"},[s("div",{directives:[{name:"popup",rawName:"v-popup.uploadQrcode",value:e.qrcode,expression:"qrcode",modifiers:{uploadQrcode:!0}}],staticClass:"le-item--download",attrs:{width:"340",title:"小程序二维码",hide_cancel:!0,sure_btn:"下载二维码",module:"channel"}},[e._v("下载小程序码")]),s("div",{staticClass:"le-item-tip"},[e._v("下载小程序码，用于推广与分享小程序")])])])]),s("div",{staticClass:"le-info le-card"},[e._m(2),s("div",{staticClass:"le-item flex"},[s("div",{staticClass:"le-item__label"},[e._v("AppID")]),s("div",{staticClass:"le-item__value"},[e._v(e._s(e.form.AppID))])]),s("div",{staticClass:"le-item flex"},[s("div",{staticClass:"le-item__label"},[e._v("AppSecret")]),s("div",{staticClass:"le-item__value"},[e._v(e._s(e.form.AppSecret))])]),s("el-button",{staticClass:"le-editor",attrs:{type:"primary"},on:{click:function(t){e.toBind=!0}}},[e._v("修改账号信息")])],1)])]:e._e(),e.bind&&!e.isBind||e.toBind?s("div",{staticClass:"le-cardpin"},[s("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.save("bind")}}},[e._v("保存")])],1):e._e()],2)},i=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"le-bind-des"},[e._v(" 绑定小程序并授权，快速发布小程"),s("br"),e._v(" 序商城，自动提交最新版本的审核 ")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"le-info__header flex align-center"},[s("span",{staticClass:"le-tip"}),s("span",{staticClass:"le-text"},[e._v("基本信息")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"le-info__header flex align-center"},[s("span",{staticClass:"le-tip"}),s("span",{staticClass:"le-text"},[e._v("账号信息")])])}],l={name:"applets-info",data:function(){return{bind:!1,toBind:!1,rules:{name:[{required:!0,message:"请输入小程序名称",trigger:"blur"}],AppID:[{required:!0,message:"请输入AppID",trigger:"blur"}],AppSecret:[{required:!0,message:"请输入AppSecret",trigger:"blur"}]},form:{name:"",AppID:"",AppSecret:"",oldID:""},isPay:!1,isBind:!1,qrcode:""}},methods:{goBind:function(){this.bind=!0},save:function(e){var t=this;this.$refs[e].validate((function(e){e&&t.$heshop.appconfig("post",{behavior:"save",key:"apply_weapp"},t.form).then((function(e){t.$notify({title:"保存成功",message:"小程序手动绑定成功。",type:"success"}),t.toBind=!1,t.bind=!1,t.getForm()})).catch((function(e){t.$message.error(e.data.message)}))}))},getForm:function(){var e=this;this.$heshop.appconfig("get").then((function(t){e.form=t.apply.weapp,e.isPay=!!t.appPay.weapp.appid,e.isBind=!!t.apply.weapp.AppID})).catch((function(t){e.$message.error(t.data.message)}))},getCode:function(){var e=this;this.$heshop.qrcode("post").then((function(t){e.qrcode=t.weapp.image})).catch((function(t){e.$message.error(t.data.message)}))}},mounted:function(){this.getForm(),this.getCode()}},n=l,r=(s("4543"),s("2877")),c=Object(r["a"])(n,a,i,!1,null,"909d3656",null);t["default"]=c.exports}}]);